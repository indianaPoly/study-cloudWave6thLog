# 네트워크 주소와 호스트 주소

### 개념

192.168.12.8 /21 -> C (netmask => AND operation)

```
11000000 10100000 00001 => 100 00001000
11111111 11111111 11111 => 000 00000000
```

해당 ip를 AND 연산하면 아래와 같은 결과가 나온다.

```
(Network address) (host address)

11000000 10100000 00001 | 000 00000000

-> 192.168.8.0 | 111 11111111
```

네트워크 주소가 다르면 스위치로 통신이 불가능

VPC 사용시 서브넷 구조 설계 (공인 IP의 경우만 보통 필요)

기본적으로는 /16 -> /24 이렇게 구성

B class 당 256개의 서브네트워크

VPC가 3개 이상: Transit Gateway

피어링: 2개 VPC만 가능

VLSM (가변 길이 서브네팅)
서브네팅을 다시 쪼개는 것

서브넷 마스크가 /2씩 줄어듦

슈퍼네팅 예제
(17비트 ~ 24비트)

172.31.0.0 /24 0000 0000  
172.31.1.0 /24 0000 0001

=> 172.31.0.0 /23

172.31.32.0 /24 0010 0000  
172.31.33.0 /24 0010 0001  
172.31.34.0 /24 0010 0010  
172.31.35.0 /24 0010 0011

=> 172.31.32.0 /22

공인 IP: 인터넷상에서 유일한 주소

사설 IP: 인터넷 불가능, 중복 가능 → 인터넷을 위해 NAT 필요 (라우터/공유기 → Gateway 설정)

사설 IP 주소 대역

A class: 10.0.0.0 ~ 10.255.255.255

B class: 172.16.0.0 ~ 172.31.255.255

C class: 192.168.0.0 ~ 192.168.255.255

APIPA (Automatic Private IP Address) : DHCP에 의해 자동 할당이 안 된 경우 (169.254.0.0 ~ 169.254.255.255)

### 실습 (Packet Tracer)

1. VPC 만들고 서브넷 2개 생성

2. EC2 2개 형성 후 연결

3. 서브넷 2개 연결 시 통신 불가능 → 네트워크 주소가 다르기 때문

   이를 해결하기 위해 3계층 장비(라우터) 필요 → 게이트웨이 설정

   ROUTER 설정: 동일한 호스트 값 + 다른 네트워크 주소
